# smart_spend_u.py
# Smart Spend U - a simple budgeting helper for students
# Uses basic Python concepts: variables, input, math, if/else, loops, and functions.

def show_welcome():
    print("====================================")
    print("        Welcome to Smart Spend U    ")
    print("  A simple budgeting helper for you ")
    print("====================================")
    print()


def get_monthly_income():
    """Ask the user for their monthly income and return it as a float."""
    while True:
        income_text = input("Enter your monthly income (in dollars): ")
        try:
            income = float(income_text)
            if income < 0:
                print("Income cannot be negative. Try again.")
            else:
                return income
        except ValueError:
            print("Please enter a number, like 1200 or 850.50.")


def get_budget_plan():
    """Ask the user how much they want to budget for each category."""
    print("\nNow let's plan your monthly budget by category.")
    print("Enter how much you want to spend in each area.")
    print("If a category doesn't apply to you, type 0.\n")

    rent = float(input("Planned amount for Rent / Housing: $"))
    food = float(input("Planned amount for Food & Groceries: $"))
    transport = float(input("Planned amount for Transportation: $"))
    fun = float(input("Planned amount for Fun & Entertainment: $"))
    savings = float(input("Planned amount for Savings / Emergency Fund: $"))

    total_planned = rent + food + transport + fun + savings

    print("\n--- Planned Budget Summary ---")
    print(f"Rent / Housing:           ${rent:.2f}")
    print(f"Food & Groceries:         ${food:.2f}")
    print(f"Transportation:           ${transport:.2f}")
    print(f"Fun & Entertainment:      ${fun:.2f}")
    print(f"Savings / Emergency Fund: ${savings:.2f}")
    print(f"Total Planned:            ${total_planned:.2f}")
    print()

    # store everything in a dictionary for easy access later
    planned = {
        "rent": rent,
        "food": food,
        "transport": transport,
        "fun": fun,
        "savings": savings,
        "total": total_planned
    }

    return planned


def compare_income_to_plan(income, planned_total):
    """Compare income to planned expenses and print a message."""
    difference = income - planned_total
    if difference > 0:
        print(f"You have ${difference:.2f} left after your planned expenses.")
        print("Nice! You could put this extra money toward savings or debt.\n")
    elif difference == 0:
        print("Your planned expenses use your full income.")
        print("Be careful â€“ there is no room for surprise costs.\n")
    else:
        print(f"Your plan is ${-difference:.2f} OVER your income.")
        print("You may want to lower some categories so you don't overspend.\n")


def track_actual_spending():
    """
    Let the user enter actual expenses in a loop.
    Returns a dictionary of totals by category.
    """
    print("Now you can log your ACTUAL spending.")
    print("Type the category (rent, food, transport, fun, savings)")
    print("or type 'done' when you are finished.\n")

    actual = {
        "rent": 0.0,
        "food": 0.0,
        "transport": 0.0,
        "fun": 0.0,
        "savings": 0.0
    }

    while True:
        category = input("Enter category (rent/food/transport/fun/savings or 'done'): ").lower()

        if category == "done":
            break

        if category not in actual:
            print("That is not a valid category. Try again.\n")
            continue

        amount_text = input(f"Enter amount spent for {category}: $")
        try:
            amount = float(amount_text)
            if amount < 0:
                print("Amount cannot be negative.\n")
            else:
                actual[category] = actual[category] + amount
                print(f"Added ${amount:.2f} to {category}. Current total: ${actual[category]:.2f}\n")
        except ValueError:
            print("Please enter a number.\n")

    # calculate total actual spending
    total_actual = (actual["rent"] + actual["food"] +
                    actual["transport"] + actual["fun"] +
                    actual["savings"])
    actual["total"] = total_actual

    return actual


def show_final_summary(planned, actual, income):
    """Print a comparison of planned vs actual spending."""
    print("\n====================================")
    print("        Smart Spend U Summary       ")
    print("====================================\n")

    print("Category           Planned      Actual")
    print("----------------------------------------")
    print(f"Rent / Housing   ${planned['rent']:8.2f}  ${actual['rent']:8.2f}")
    print(f"Food & Groceries ${planned['food']:8.2f}  ${actual['food']:8.2f}")
    print(f"Transportation   ${planned['transport']:8.2f}  ${actual['transport']:8.2f}")
    print(f"Fun & Entertain. ${planned['fun']:8.2f}  ${actual['fun']:8.2f}")
    print(f"Savings          ${planned['savings']:8.2f}  ${actual['savings']:8.2f}")
    print("----------------------------------------")
    print(f"TOTAL            ${planned['total']:8.2f}  ${actual['total']:8.2f}")
    print()

    leftover = income - actual["total"]
    if leftover > 0:
        print(f"You still have ${leftover:.2f} left from your income after actual spending.")
    elif leftover == 0:
        print("You used your full income. You broke even this month.")
    else:
        print(f"You spent ${-leftover:.2f} MORE than your income. Time to cut back next month!")

    print("\nThanks for using Smart Spend U! ðŸ§ ðŸ’¸")


def main():
    show_welcome()
    income = get_monthly_income()
    planned = get_budget_plan()
    compare_income_to_plan(income, planned["total"])
    actual = track_actual_spending()
    show_final_summary(planned, actual, income)


# Start the program
main()



